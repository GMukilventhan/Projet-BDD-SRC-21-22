CREATE TABLE UTILISATEUR (ID_UTILSIATEUR_UTILISATEUR INT(255) AUTO_INCREMENT NOT NULL,
NOM_UTILISATEUR VARCHAR(30),
Email_UTILISATEUR VARCHAR(30),
ID_CATEGORIE_SOCIAL_CATEGORIE SOCIAL VARCHAR(30),
PRIMARY KEY (ID_UTILSIATEUR_UTILISATEUR)) ENGINE=InnoDB;

CREATE TABLE COMMUNE (ID_COMMUNE_COMMUNE INT(255) AUTO_INCREMENT NOT NULL,
VILLE_COMMUNE VARCHAR(30),
PRIMARY KEY (ID_COMMUNE_COMMUNE)) ENGINE=InnoDB;

CREATE TABLE CATEGORIE_SOCIAL (ID_CATEGORIE_SOCIAL_CATEGORIE SOCIAL INT(255) AUTO_INCREMENT NOT NULL,
CATEGORIE_SOCIAL_CATEGORIE SOCIAL VARCHAR(30),
PRIMARY KEY (ID_CATEGORIE_SOCIAL_CATEGORIE_SOCIAL)) ENGINE=InnoDB;

DROP TABLE IF EXISTS ABONNEMENT ;
CREATE TABLE ABONNEMENT (ID_ABO_ABONNEMENT INT(255) AUTO_INCREMENT NOT NULL,
DATE_ADHESION_ABONNEMENT DATE,
FIN_ADHESION_ABONNEMENT DATE,
ID_UTILSIATEUR_UTILISATEUR **NOT FOUND**(255),
ID_TYPE_abonnement_TYPE_ABONEMENT  **NOT FOUND**(255),
PRIMARY KEY (ID_ABO_ABONNEMENT)) ENGINE=InnoDB;

DROP TABLE IF EXISTS TYPE_ABONEMENT_ ;
CREATE TABLE TYPE_ABONEMENT_ (ID_TYPE_abonnement_TYPE_ABONEMENT  INT(255) AUTO_INCREMENT NOT NULL,
PRIX_PAR_MOIS_TYPE_ABONEMENT  FLOAT(5),
NOMBRE_EMPRUNT_TYPE_ABONEMENT  INT(3),
PRIMARY KEY (ID_TYPE_abonnement_TYPE_ABONEMENT_)) ENGINE=InnoDB;

DROP TABLE IF EXISTS EMPRUNT ;
CREATE TABLE EMPRUNT (ID_EMPRUNTI_EMPRUNT INT(255) AUTO_INCREMENT NOT NULL,
DATE_EMPRUNT_EMPRUNT DATE,
PRIMARY KEY (ID_EMPRUNTI_EMPRUNT)) ENGINE=InnoDB;

DROP TABLE IF EXISTS RETOUR ;
CREATE TABLE RETOUR (ID_RETOUR_RETOUR INT(255) AUTO_INCREMENT NOT NULL,
DATE_RENDU_RETOUR DATE,
ID_EMPRUNTI_EMPRUNT **NOT FOUND**(255),
PRIMARY KEY (ID_RETOUR_RETOUR)) ENGINE=InnoDB;

DROP TABLE IF EXISTS OBJET ;
CREATE TABLE OBJET (ID_OBJET_OBJET INT(255) AUTO_INCREMENT NOT NULL,
NOMBRE_ARTICLE_OBJET INT(3),
PRIX_OBJET_OBJET FLOAT(5),
ID_PENALITE_PENALITE **NOT FOUND**(255),
PRIMARY KEY (ID_OBJET_OBJET)) ENGINE=InnoDB;

DROP TABLE IF EXISTS PENALITE ;
CREATE TABLE PENALITE (ID_PENALITE_PENALITE INT(255) AUTO_INCREMENT NOT NULL,
TYPE_OBJET_PENALITE VARCHAR(30),
PRIX_J_PENALITER_PENALITE FLOAT(5),
PRIMARY KEY (ID_PENALITE_PENALITE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS DISQUES ;
CREATE TABLE DISQUES (ID_DISQUE_DISQUES INT(255) AUTO_INCREMENT NOT NULL,
TITRES_DISQUE_DISQUES VARCHAR(30),
PRIMARY KEY (ID_DISQUE_DISQUES)) ENGINE=InnoDB;

DROP TABLE IF EXISTS CASSETTE ;
CREATE TABLE CASSETTE (ID_CASSETTE_CASSETTE INT(255) AUTO_INCREMENT NOT NULL,
TITRE_CASSETTE_CASSETTE VARCHAR(30),
PRIMARY KEY (ID_CASSETTE_CASSETTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS ARTISTE ;
CREATE TABLE ARTISTE (ID_ARTISTE_ARTISTE INT(255) AUTO_INCREMENT NOT NULL,
NOM_ARTISTE VARCHAR(30),
PRENOM_ARTISTE VARCHAR,
PRIMARY KEY (ID_ARTISTE_ARTISTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS HABITER ;
CREATE TABLE HABITER (ID_UTILSIATEUR_UTILISATEUR **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_COMMUNE_COMMUNE **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_UTILSIATEUR_UTILISATEUR,
 ID_COMMUNE_COMMUNE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS PERMETTRE ;
CREATE TABLE PERMETTRE (ID_ABO_ABONNEMENT **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_EMPRUNTI_EMPRUNT **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_ABO_ABONNEMENT,
 ID_EMPRUNTI_EMPRUNT)) ENGINE=InnoDB;

DROP TABLE IF EXISTS RENDRE ;
CREATE TABLE RENDRE (ID_RETOUR_RETOUR **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_OBJET_OBJET **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_RETOUR_RETOUR,
 ID_OBJET_OBJET)) ENGINE=InnoDB;

DROP TABLE IF EXISTS EMPRUNTER ;
CREATE TABLE EMPRUNTER (ID_EMPRUNTI_EMPRUNT **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_OBJET_OBJET **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_EMPRUNTI_EMPRUNT,
 ID_OBJET_OBJET)) ENGINE=InnoDB;

DROP TABLE IF EXISTS PRODUIRE ;
CREATE TABLE PRODUIRE (ID_DISQUE_DISQUES **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_ARTISTE_ARTISTE **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_DISQUE_DISQUES,
 ID_ARTISTE_ARTISTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS COMPOSER ;
CREATE TABLE COMPOSER (ID_DISQUE_DISQUES **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_ARTISTE_ARTISTE **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_DISQUE_DISQUES,
 ID_ARTISTE_ARTISTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS concevoir ;
CREATE TABLE concevoir (ID_CASSETTE_CASSETTE **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_ARTISTE_ARTISTE **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_CASSETTE_CASSETTE,
 ID_ARTISTE_ARTISTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS JOUER ;
CREATE TABLE JOUER (ID_CASSETTE_CASSETTE **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_ARTISTE_ARTISTE **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_CASSETTE_CASSETTE,
 ID_ARTISTE_ARTISTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS CATEGORISER ;
CREATE TABLE CATEGORISER (ID_CASSETTE_CASSETTE **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_ARTISTE_ARTISTE **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_CASSETTE_CASSETTE,
 ID_ARTISTE_ARTISTE)) ENGINE=InnoDB;

DROP TABLE IF EXISTS CONTENNIR ;
CREATE TABLE CONTENNIR (ID_OBJET_OBJET **NOT FOUND**(255) AUTO_INCREMENT NOT NULL,
ID_CASSETTE_CASSETTE **NOT FOUND**(255) NOT NULL,
ID_DISQUE_DISQUES **NOT FOUND**(255) NOT NULL,
PRIMARY KEY (ID_OBJET_OBJET,
 ID_CASSETTE_CASSETTE,
 ID_DISQUE_DISQUES)) ENGINE=InnoDB;

ALTER TABLE UTILISATEUR ADD CONSTRAINT FK_UTILISATEUR_ID_CATEGORIE_SOCIAL_CATEGORIE_SOCIAL FOREIGN KEY (ID_CATEGORIE_SOCIAL_CATEGORIE_SOCIAL) REFERENCES CATEGORIE_SOCIAL (ID_CATEGORIE_SOCIAL_CATEGORIE_SOCIAL);

ALTER TABLE ABONNEMENT ADD CONSTRAINT FK_ABONNEMENT_ID_UTILSIATEUR_UTILISATEUR FOREIGN KEY (ID_UTILSIATEUR_UTILISATEUR) REFERENCES UTILISATEUR (ID_UTILSIATEUR_UTILISATEUR);
ALTER TABLE ABONNEMENT ADD CONSTRAINT FK_ABONNEMENT_ID_TYPE_abonnement_TYPE_ABONEMENT_ FOREIGN KEY (ID_TYPE_abonnement_TYPE_ABONEMENT_) REFERENCES TYPE_ABONEMENT_ (ID_TYPE_abonnement_TYPE_ABONEMENT_);
ALTER TABLE RETOUR ADD CONSTRAINT FK_RETOUR_ID_EMPRUNTI_EMPRUNT FOREIGN KEY (ID_EMPRUNTI_EMPRUNT) REFERENCES EMPRUNT (ID_EMPRUNTI_EMPRUNT);
ALTER TABLE OBJET ADD CONSTRAINT FK_OBJET_ID_PENALITE_PENALITE FOREIGN KEY (ID_PENALITE_PENALITE) REFERENCES PENALITE (ID_PENALITE_PENALITE);
ALTER TABLE HABITER ADD CONSTRAINT FK_HABITER_ID_UTILSIATEUR_UTILISATEUR FOREIGN KEY (ID_UTILSIATEUR_UTILISATEUR) REFERENCES UTILISATEUR (ID_UTILSIATEUR_UTILISATEUR);
ALTER TABLE HABITER ADD CONSTRAINT FK_HABITER_ID_COMMUNE_COMMUNE FOREIGN KEY (ID_COMMUNE_COMMUNE) REFERENCES COMMUNE (ID_COMMUNE_COMMUNE);
ALTER TABLE PERMETTRE ADD CONSTRAINT FK_PERMETTRE_ID_ABO_ABONNEMENT FOREIGN KEY (ID_ABO_ABONNEMENT) REFERENCES ABONNEMENT (ID_ABO_ABONNEMENT);
ALTER TABLE PERMETTRE ADD CONSTRAINT FK_PERMETTRE_ID_EMPRUNTI_EMPRUNT FOREIGN KEY (ID_EMPRUNTI_EMPRUNT) REFERENCES EMPRUNT (ID_EMPRUNTI_EMPRUNT);
ALTER TABLE RENDRE ADD CONSTRAINT FK_RENDRE_ID_RETOUR_RETOUR FOREIGN KEY (ID_RETOUR_RETOUR) REFERENCES RETOUR (ID_RETOUR_RETOUR);
ALTER TABLE RENDRE ADD CONSTRAINT FK_RENDRE_ID_OBJET_OBJET FOREIGN KEY (ID_OBJET_OBJET) REFERENCES OBJET (ID_OBJET_OBJET);
ALTER TABLE EMPRUNTER ADD CONSTRAINT FK_EMPRUNTER_ID_EMPRUNTI_EMPRUNT FOREIGN KEY (ID_EMPRUNTI_EMPRUNT) REFERENCES EMPRUNT (ID_EMPRUNTI_EMPRUNT);
ALTER TABLE EMPRUNTER ADD CONSTRAINT FK_EMPRUNTER_ID_OBJET_OBJET FOREIGN KEY (ID_OBJET_OBJET) REFERENCES OBJET (ID_OBJET_OBJET);
ALTER TABLE PRODUIRE ADD CONSTRAINT FK_PRODUIRE_ID_DISQUE_DISQUES FOREIGN KEY (ID_DISQUE_DISQUES) REFERENCES DISQUES (ID_DISQUE_DISQUES);
ALTER TABLE PRODUIRE ADD CONSTRAINT FK_PRODUIRE_ID_ARTISTE_ARTISTE FOREIGN KEY (ID_ARTISTE_ARTISTE) REFERENCES ARTISTE (ID_ARTISTE_ARTISTE);
ALTER TABLE COMPOSER ADD CONSTRAINT FK_COMPOSER_ID_DISQUE_DISQUES FOREIGN KEY (ID_DISQUE_DISQUES) REFERENCES DISQUES (ID_DISQUE_DISQUES);
ALTER TABLE COMPOSER ADD CONSTRAINT FK_COMPOSER_ID_ARTISTE_ARTISTE FOREIGN KEY (ID_ARTISTE_ARTISTE) REFERENCES ARTISTE (ID_ARTISTE_ARTISTE);
ALTER TABLE concevoir ADD CONSTRAINT FK_concevoir_ID_CASSETTE_CASSETTE FOREIGN KEY (ID_CASSETTE_CASSETTE) REFERENCES CASSETTE (ID_CASSETTE_CASSETTE);
ALTER TABLE concevoir ADD CONSTRAINT FK_concevoir_ID_ARTISTE_ARTISTE FOREIGN KEY (ID_ARTISTE_ARTISTE) REFERENCES ARTISTE (ID_ARTISTE_ARTISTE);
ALTER TABLE JOUER ADD CONSTRAINT FK_JOUER_ID_CASSETTE_CASSETTE FOREIGN KEY (ID_CASSETTE_CASSETTE) REFERENCES CASSETTE (ID_CASSETTE_CASSETTE);
ALTER TABLE JOUER ADD CONSTRAINT FK_JOUER_ID_ARTISTE_ARTISTE FOREIGN KEY (ID_ARTISTE_ARTISTE) REFERENCES ARTISTE (ID_ARTISTE_ARTISTE);
ALTER TABLE CATEGORISER ADD CONSTRAINT FK_CATEGORISER_ID_CASSETTE_CASSETTE FOREIGN KEY (ID_CASSETTE_CASSETTE) REFERENCES CASSETTE (ID_CASSETTE_CASSETTE);
ALTER TABLE CATEGORISER ADD CONSTRAINT FK_CATEGORISER_ID_ARTISTE_ARTISTE FOREIGN KEY (ID_ARTISTE_ARTISTE) REFERENCES ARTISTE (ID_ARTISTE_ARTISTE);
ALTER TABLE CONTENNIR ADD CONSTRAINT FK_CONTENNIR_ID_OBJET_OBJET FOREIGN KEY (ID_OBJET_OBJET) REFERENCES OBJET (ID_OBJET_OBJET);
ALTER TABLE CONTENNIR ADD CONSTRAINT FK_CONTENNIR_ID_CASSETTE_CASSETTE FOREIGN KEY (ID_CASSETTE_CASSETTE) REFERENCES CASSETTE (ID_CASSETTE_CASSETTE);
ALTER TABLE CONTENNIR ADD CONSTRAINT FK_CONTENNIR_ID_DISQUE_DISQUES FOREIGN KEY (ID_DISQUE_DISQUES) REFERENCES DISQUES (ID_DISQUE_DISQUES);
